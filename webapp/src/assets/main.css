@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  @apply bg-[#f5f7fb] text-slate-900;
}

a {
  @apply text-blue-600 hover:text-blue-500;
}

@layer components {
  .glass-panel {
    @apply rounded-3xl border border-white/70 bg-white/80 p-5 shadow-xl shadow-slate-200/70 backdrop-blur-2xl transition;
  }

  .hero-glow {
    @apply pointer-events-none absolute inset-0 -z-10 bg-gradient-to-r from-blue-100/50 via-white/40 to-purple-100/40 opacity-70 blur-3xl;
  }

  .next-step-banner {
    @apply flex items-center justify-between rounded-3xl border border-white/70 bg-white/80 px-6 py-4 shadow-lg shadow-slate-200/60;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-full bg-slate-900 px-5 py-2 text-sm font-semibold text-white shadow-lg shadow-slate-900/20 transition hover:bg-slate-800 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-900 disabled:cursor-not-allowed disabled:opacity-60;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-full border border-slate-200 bg-white/80 px-4 py-2 text-sm font-semibold text-slate-800 shadow-sm transition hover:border-slate-300 hover:bg-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-300 disabled:cursor-not-allowed disabled:opacity-60;
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center rounded-full px-3 py-1.5 text-xs font-semibold text-slate-500 transition hover:text-slate-800;
  }

  .btn-link {
    @apply inline-flex items-center text-sm font-semibold text-blue-600 underline-offset-4 hover:text-blue-500;
  }

  .mode-chip {
    @apply inline-flex items-center rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-900;
  }

  .mode-chip--active {
    @apply border-blue-200 bg-blue-50 text-blue-700 shadow-sm;
  }

  .flow-card {
    @apply rounded-3xl border border-white/70 bg-white/80 p-4 shadow shadow-slate-200/70 transition;
  }

  .flow-card--pending {
    @apply opacity-70;
  }

  .flow-card--active {
    @apply border-blue-200 shadow-blue-100;
  }

  .flow-card--completed {
    @apply border-emerald-200 bg-emerald-50/80;
  }

  .flow-card__status {
    @apply rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-500;
  }

  .status-pill {
    @apply inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1 text-xs font-semibold text-slate-600;
  }

  .message-row {
    @apply flex gap-3;
  }

  .message-row + .message-row {
    @apply mt-3;
  }

  .message-row--user {
    @apply flex-row-reverse;
  }

  .message-avatar {
    @apply flex h-10 w-10 items-center justify-center rounded-2xl bg-slate-900 text-sm font-semibold text-white;
  }

  .message-row--user .message-avatar {
    @apply bg-slate-800;
  }

  .message-bubble {
    @apply max-w-xl rounded-3xl border border-white/70 bg-white/90 p-4 text-sm leading-relaxed text-slate-700 shadow shadow-slate-200/70;
  }

  .message-bubble--assistant {
    @apply rounded-tl-none;
  }

  .message-bubble--user {
    @apply rounded-tr-none bg-slate-900 text-white shadow-slate-900/30;
  }

  .message-bubble--system {
    @apply border-dashed text-slate-500;
  }

  .action-feedback {
    @apply flex items-center justify-between gap-4 rounded-3xl border px-4 py-3;
  }

  .action-feedback--success {
    @apply border-emerald-200 bg-emerald-50 text-emerald-700;
  }

  .action-feedback--error {
    @apply border-rose-200 bg-rose-50 text-rose-700;
  }

  .action-detail-panel {
    @apply rounded-3xl border border-white/70 bg-white/90 p-5 shadow-xl shadow-slate-200/70;
  }

  .action-status {
    @apply inline-flex items-center rounded-full bg-slate-100 px-3 py-0.5 text-xs font-semibold text-slate-600;
  }

  .stage-badge {
    @apply inline-flex items-center rounded-full bg-slate-900/80 px-3 py-0.5 text-[10px] font-semibold uppercase tracking-[0.3em] text-white;
  }

  .agent-chip {
    @apply inline-flex items-center rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600;
  }

  .timeline-dot {
    @apply absolute left-4 top-5 h-2 w-2 -translate-x-1/2 rounded-full bg-blue-500 shadow shadow-blue-200/80;
  }

  .action-modal {
    @apply fixed inset-0 z-50 flex items-center justify-center px-4;
  }

  .action-modal__backdrop {
    @apply absolute inset-0 bg-slate-900/30 backdrop-blur;
  }

  .action-modal__panel {
    @apply relative z-10 w-full max-w-lg space-y-4 rounded-3xl border border-white/80 bg-white/95 p-6 shadow-2xl shadow-slate-900/20;
  }

  .coach-page {
    @apply flex flex-col gap-6;
  }

  .coach-hero {
    @apply flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between;
  }

  .coach-stage {
    @apply grid gap-6 rounded-3xl border border-white/80 bg-white/80 p-6 shadow-2xl shadow-blue-100/60 backdrop-blur-xl lg:grid-cols-[minmax(220px,_300px)_minmax(0,_1fr)];
  }

  .coach-avatar {
    @apply relative flex h-64 items-center justify-center overflow-hidden rounded-3xl bg-gradient-to-br from-blue-100 via-white to-purple-100;
  }

  .coach-avatar__face {
    @apply relative flex h-24 w-24 flex-col items-center justify-center rounded-full bg-white/80 shadow-lg shadow-blue-200/70;
  }

  .coach-avatar__eyes {
    @apply absolute top-8 flex w-14 items-center justify-between text-indigo-400;
  }

  .coach-avatar__eyes::before,
  .coach-avatar__eyes::after {
    @apply block h-2 w-2 rounded-full bg-slate-600;
    content: "";
  }

  .coach-avatar__mouth {
    @apply mt-6 h-2 w-10 rounded-full bg-slate-400;
  }

  .coach-avatar__orb {
    @apply absolute inset-x-8 bottom-6 h-24 rounded-full bg-white/60 blur-3xl;
  }

  .coach-avatar--idea {
    @apply bg-gradient-to-br from-yellow-100 via-white to-orange-100;
  }

  .coach-avatar--warm {
    @apply bg-gradient-to-br from-pink-100 via-white to-rose-100;
  }

  .coach-avatar--quiz .coach-avatar__face {
    @apply shadow-emerald-200/70;
  }

  .coach-dialog {
    @apply flex flex-col gap-3 rounded-3xl border border-white/70 bg-white/80 p-6 shadow-lg shadow-slate-200/60;
  }

  .coach-dialog__label {
    @apply text-xs font-semibold uppercase tracking-[0.35em] text-slate-500;
  }

  .coach-dialog__text {
    @apply text-base font-medium text-slate-900;
  }

  .coach-dialog__list {
    @apply list-disc space-y-1 pl-5 text-sm text-slate-600;
  }

  .coach-controls {
    @apply flex items-center justify-between rounded-3xl border border-dashed border-slate-200/80 bg-white/60 px-4 py-3;
  }

  .coach-scenes {
    @apply flex flex-col gap-4;
  }

  .scene-list {
    @apply grid gap-4 md:grid-cols-2 xl:grid-cols-3;
  }

  .scene-card {
    @apply cursor-pointer rounded-3xl border border-white/70 bg-white/80 p-4 shadow shadow-slate-200/70 transition hover:-translate-y-0.5 hover:shadow-lg;
  }

  .scene-card--active {
    @apply border-blue-200 bg-blue-50/70 shadow-blue-100;
  }

  .scene-card--completed {
    @apply border-emerald-200 bg-emerald-50/60 opacity-80;
  }

  .scene-chip {
    @apply rounded-full border border-slate-200 bg-white/70 px-3 py-0.5 text-[11px] font-semibold text-slate-600;
  }

  .coach-empty {
    @apply flex flex-col items-center justify-center rounded-3xl border border-dashed border-slate-200 bg-white/70 px-6 py-16 text-center shadow;
  }
}
